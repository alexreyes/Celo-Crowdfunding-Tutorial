/// <reference types="bn.js" />
import { EIP712TypedData } from '@celo/utils/lib/sign-typed-data-utils';
import { Signature } from '@celo/utils/lib/signatureUtils';
import Web3 from 'web3';
import { AbiCoder } from './abi-types';
import { Address, Block, BlockNumber, CeloTx, CeloTxObject, CeloTxPending, CeloTxReceipt, Provider } from './types';
import { RpcCaller } from './utils/rpc-caller';
import { TxParamsNormalizer } from './utils/tx-params-normalizer';
import { TransactionResult } from './utils/tx-result';
import { ReadOnlyWallet } from './wallet';
export interface ConnectionOptions {
    gasInflationFactor: number;
    gasPrice: string;
    feeCurrency?: Address;
    from?: Address;
}
export declare class Connection {
    readonly web3: Web3;
    wallet?: ReadOnlyWallet | undefined;
    private config;
    readonly paramsPopulator: TxParamsNormalizer;
    rpcCaller: RpcCaller;
    private currencyGasPrice;
    constructor(web3: Web3, wallet?: ReadOnlyWallet | undefined, handleRevert?: boolean);
    setProvider(provider: Provider): boolean;
    /**
     * Set default account for generated transactions (eg. tx.from )
     */
    set defaultAccount(address: Address | undefined);
    /**
     * Default account for generated transactions (eg. tx.from)
     */
    get defaultAccount(): Address | undefined;
    set defaultGasInflationFactor(factor: number);
    get defaultGasInflationFactor(): number;
    set defaultGasPrice(price: number);
    get defaultGasPrice(): number;
    /**
     * Set the ERC20 address for the token to use to pay for transaction fees.
     * The ERC20 must be whitelisted for gas.
     *
     * Set to `null` to use CELO
     *
     * @param address ERC20 address
     */
    set defaultFeeCurrency(address: Address | undefined);
    get defaultFeeCurrency(): Address | undefined;
    isLocalAccount(address?: Address): boolean;
    addAccount(privateKey: string): void;
    removeAccount(address: string): void;
    getNodeAccounts(): Promise<string[]>;
    getLocalAccounts(): string[];
    getAccounts(): Promise<string[]>;
    private toChecksumAddresses;
    isListening(): Promise<boolean>;
    isSyncing(): Promise<boolean>;
    /**
     * Send a transaction to celo-blockchain.
     *
     * Similar to `web3.eth.sendTransaction()` but with following differences:
     *  - applies kit tx's defaults
     *  - estimatesGas before sending
     *  - returns a `TransactionResult` instead of `PromiEvent`
     */
    sendTransaction: (tx: CeloTx) => Promise<TransactionResult>;
    sendTransactionObject: (txObj: CeloTxObject<any>, tx?: Pick<CeloTx, "feeCurrency" | "gatewayFeeRecipient" | "gatewayFee" | "from" | "to" | "value" | "gas" | "gasPrice" | "nonce" | "chainId" | "common" | "chain" | "hardfork"> | undefined) => Promise<TransactionResult>;
    signTypedData: (signer: string, typedData: EIP712TypedData) => Promise<Signature>;
    sign: (dataToSign: string, address: string | number) => Promise<string>;
    sendSignedTransaction: (signedTransactionData: string) => Promise<TransactionResult>;
    fillGasPrice(tx: CeloTx): CeloTx;
    setGasPriceForCurrency(address: Address, gasPrice: string): Promise<void>;
    estimateGas: (tx: CeloTx, gasEstimator?: (tx: CeloTx) => Promise<number>, caller?: (tx: CeloTx) => Promise<string>) => Promise<number>;
    getAbiCoder(): AbiCoder;
    estimateGasWithInflationFactor: (tx: CeloTx, gasEstimator?: ((tx: CeloTx) => Promise<number>) | undefined, caller?: ((tx: CeloTx) => Promise<string>) | undefined) => Promise<number>;
    chainId: () => Promise<number>;
    getTransactionCount: (address: string) => Promise<number>;
    nonce: (address: string) => Promise<number>;
    coinbase: () => Promise<string>;
    gasPrice: (feeCurrency?: string | undefined) => Promise<string>;
    getBlockNumber: () => Promise<number>;
    getBlock: (blockHashOrBlockNumber: BlockNumber, fullTxObjects?: boolean) => Promise<Block>;
    getBalance: (address: string, defaultBlock?: string | number | import("bignumber.js").default | import("bn.js") | undefined) => Promise<string>;
    getTransaction: (transactionHash: string) => Promise<CeloTxPending>;
    getTransactionReceipt: (txhash: string) => Promise<CeloTxReceipt | null>;
    private fillTxDefaults;
    stop(): void;
}
